---
meta:
    description:
        Creates an EC2 instance in the vpc created by the vpc layer
    dependencies:
        - vpc
    parameters:
        allowed_cidr:
            description: The CIDR of the range of IP addresses allowed to connect
               to the instance
            value: 0.0.0.0/0
        instance_type:
            description: The EC2 instance type to be created
            value: t2.micro
        keyname:
            description: The name of the key granting SSH access to the instance
            value: humilis-testkey
        vpc:
            description: The physical ID of the VPC where the image will be created
            value:
                ref: vpc/VPC
        ami:
            description: The AMI to use when launching the EC2 instance
            value:
                ref: :aws:ec2:ami/Name=test-ami
        subnet:
            description: The physical ID of the subnet where the instance will be 
                launched
            value:
                ref: vpc/Subnet
